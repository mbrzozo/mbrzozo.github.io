<html>
  <head>
    
    <script type="text/javascript" charset="utf-8">
  (function (g, e, n, es, ys) {
    g['_genesysJs'] = e;
    g[e] = g[e] || function () {
      (g[e].q = g[e].q || []).push(arguments)
    };
    g[e].t = 1 * new Date();
    g[e].c = es;
    ys = document.createElement('script'); ys.async = 1; ys.src = n; ys.charset = 'utf-8'; document.head.appendChild(ys);
  })(window, 'Genesys', 'https://apps.euw2.pure.cloud/genesys-bootstrap/genesys.min.js', {
    environment: 'euw2',
    deploymentId: 'd1749f0e-2d05-42e3-b831-8ba2ba16aa16'
  });
</script>
    
    
  </head>
  
<body>
  <script type="text/javascript">
  function toggleMessenger(){
    console.log("button clicked");
    Genesys("command", "Messenger.open", {},
      function(o){},  // if resolved
      function(o){    // if rejected
        Genesys("command", "Messenger.close");
      }
    );
  }
  function sendEvents(){
    console.log("sendEvents invoked");
    var brand = document.getElementById("brand").value;
    var country = document.getElementById("country").value;
    var language = document.getElementById("language").value;
    var emailAddress = document.getElementById("emailAddress").value; 
    var BaseURL = document.getElementById("BaseURL").value;
    console.log("Values " + brand + " " + emailAddress + " " + country + " " + language + " " + BaseURL);


  
    Genesys("command", "Journey.record", {
       eventName: "WebMessagingEvent",  customAttributes: { emailAddress: emailAddress, brand: brand, language: language, country: country, BaseURL: BaseURL }})
  }
  function toggleAndSend(){
    console.log("toggleAndSend invoked")
    toggleMessenger();
    sendEvents();
  }
  function clearAndReload(){
    localStorage.clear();
    window.location.reload();
  }
</script>
<h1>Hello World</h1>
<p>I'm hosted with GitHub Pages.</p>
<button id="custom-launcher" onclick="toggleMessenger()">
  Toggle Messenger
</button>
<br>
<input type="email" id="emailAddress" value="UNKNOWN"><br>
<input type="text" id="brand" value="Zanussi"><br>
<input type="text" id="language" value="EN"><br>
<input type="text" id="country" value="UK"><br>
<input type="text" id="BaseURL" value="https://virgin.com"><br>


<button id="custom-launcher" onclick="sendEvents()">
  Send Events
</button>
<br>
<button id="custom-launcher2" onclick="toggleAndSend()">
  Toggle and Send Events
</button>
<br>
<button id="clear-and-reload" onclick="clearAndReload()">
  Test button - Clear and reload page
</button>

</body>
</html>
